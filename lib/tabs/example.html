<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabs Library - Example</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      background-color: #f9fafb;
    }

    h1 {
      color: #1f2937;
      margin-bottom: 32px;
    }

    h2 {
      color: #374151;
      margin-top: 48px;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid #e5e7eb;
    }

    .example-section {
      background: white;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 32px;
    }

    .controls {
      margin-top: 16px;
      padding: 16px;
      background-color: #f3f4f6;
      border-radius: 6px;
    }

    .controls button {
      margin-right: 8px;
      margin-bottom: 8px;
      padding: 8px 16px;
      background-color: #3b82f6;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    .controls button:hover {
      background-color: #2563eb;
    }

    .log {
      margin-top: 16px;
      padding: 12px;
      background-color: #1f2937;
      color: #10b981;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      border-radius: 4px;
      max-height: 200px;
      overflow-y: auto;
    }

    .log-entry {
      margin-bottom: 4px;
    }

    code {
      background-color: #f3f4f6;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 13px;
    }

    .tab-panel-content {
      padding: 24px;
      background-color: #fff;
      border: 1px solid #e0e0e0;
      border-top: none;
    }
  </style>
</head>
<body>
  <h1>Tabs Library - 基本的な使用例</h1>

  <!-- Example 1: Basic Tabs -->
  <section class="example-section">
    <h2>1. 基本的なタブ</h2>
    <p>デフォルトスタイルのタブです。</p>

    <!-- タブボタン -->
    <div role="tablist" class="tabs-list" id="basic-tabs">
      <button class="tab-button" data-tab="home" role="tab">ホーム</button>
      <button class="tab-button" data-tab="profile" role="tab">プロフィール</button>
      <button class="tab-button" data-tab="messages" role="tab">メッセージ</button>
      <button class="tab-button" data-tab="settings" role="tab">設定</button>
    </div>

    <!-- タブパネル -->
    <div class="tab-panels" id="basic-panels">
        <div class="tab-panel" data-tab-panel="home">
          <div class="tab-panel-content">
            <h3>ホーム</h3>
            <p>ホームページのコンテンツです。ここには最新の情報やダッシュボードが表示されます。</p>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="profile">
          <div class="tab-panel-content">
            <h3>プロフィール</h3>
            <p>ユーザープロフィールの情報が表示されます。</p>
            <ul>
              <li>名前: 山田太郎</li>
              <li>メール: yamada@example.com</li>
              <li>登録日: 2025-01-01</li>
            </ul>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="messages">
          <div class="tab-panel-content">
            <h3>メッセージ</h3>
            <p>未読メッセージ: <strong>3件</strong></p>
            <p>メッセージの一覧が表示されます。</p>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="settings">
          <div class="tab-panel-content">
            <h3>設定</h3>
            <p>アプリケーションの設定を変更できます。</p>
          </div>
        </div>
      </div>

    <div class="controls">
      <button onclick="basicTabs.setValue('home')">ホームに切り替え</button>
      <button onclick="basicTabs.setValue('profile')">プロフィールに切り替え</button>
      <button onclick="basicTabs.disableTrigger('messages')">メッセージを無効化</button>
      <button onclick="basicTabs.enableTrigger('messages')">メッセージを有効化</button>
      <button onclick="alert('Current value: ' + basicTabs.getValue())">現在の値を確認</button>
    </div>

    <div class="log" id="basic-log"></div>
  </section>

  <!-- Example 2: Separate Hierarchy -->
  <section class="example-section">
    <h2>2. 別階層配置のタブ（カスタムカラー）</h2>
    <p>タブボタンとタブパネルを別の場所に配置した例です。アクティブなタブの色をカスタマイズしています。</p>

    <!-- タブボタン -->
    <div role="tablist" class="tabs-list" id="separate-tabs">
      <button class="tab-button" data-tab="overview" role="tab">概要</button>
      <button class="tab-button" data-tab="features" role="tab">機能</button>
      <button class="tab-button" data-tab="pricing" role="tab">料金</button>
    </div>

    <!-- タブパネル（別の場所） -->
    <div class="tab-panels" id="separate-panels">
        <div class="tab-panel" data-tab-panel="overview">
          <div class="tab-panel-content">
            <h3>プロダクト概要</h3>
            <p>このプロダクトは、タブUIを簡単に実装できるライブラリです。</p>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="features">
          <div class="tab-panel-content">
            <h3>主な機能</h3>
            <ul>
              <li>シンプルなAPI</li>
              <li>カスタマイズ可能なスタイル</li>
              <li>アクセシビリティ対応</li>
              <li>キーボード操作サポート</li>
              <li>別階層配置可能</li>
            </ul>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="pricing">
          <div class="tab-panel-content">
            <h3>料金プラン</h3>
            <p><strong>無料</strong> - オープンソースライブラリです</p>
          </div>
        </div>
      </div>
  </section>

  <!-- Example 3: With History -->
  <section class="example-section">
    <h2>3. ブラウザ履歴連携</h2>
    <p>URLのハッシュとブラウザの戻る/進むボタンでタブを切り替えられます。</p>

    <div role="tablist" class="tabs-list" id="history-tabs">
      <button class="tab-button" data-tab="section1" role="tab">セクション1</button>
      <button class="tab-button" data-tab="section2" role="tab">セクション2</button>
      <button class="tab-button" data-tab="section3" role="tab">セクション3</button>
    </div>

    <div class="tab-panels" id="history-panels">
        <div class="tab-panel" data-tab-panel="section1">
          <div class="tab-panel-content">
            <h3>セクション1</h3>
            <p>URLに <code>#section1</code> が追加されます。</p>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="section2">
          <div class="tab-panel-content">
            <h3>セクション2</h3>
            <p>URLに <code>#section2</code> が追加されます。</p>
          </div>
        </div>
        <div class="tab-panel" data-tab-panel="section3">
          <div class="tab-panel-content">
            <h3>セクション3</h3>
            <p>URLに <code>#section3</code> が追加されます。</p>
            <p>ブラウザの戻るボタンで前のタブに戻れます。</p>
          </div>
        </div>
      </div>
  </section>

  <!-- JavaScript -->
  <script src="index.js"></script>
  <script>
    // Example 1: Basic Tabs with logging
    const basicLog = document.getElementById('basic-log');
    function logBasic(message) {
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
      basicLog.insertBefore(entry, basicLog.firstChild);
    }

    const basicTabs = new Tabs({
      tabsList: '#basic-tabs',
      tabsContent: '#basic-panels',
      defaultValue: 'home',
      onValueChange: (value, previousValue) => {
        logBasic(`Value changed: ${previousValue || 'none'} → ${value}`);
      }
    });

    // Example 2: Separate Hierarchy (with custom colors)
    const separateTabs = new Tabs({
      tabsList: '#separate-tabs',
      tabsContent: '#separate-panels',
      defaultValue: 'overview',
      activeColor: '#10b981',        // カスタム文字色（緑）
      activeBgColor: '#ecfdf5',      // カスタム背景色（淡い緑）
      activeBorderColor: '#10b981'   // カスタムボーダー色（緑）
    });

    // Example 3: With History
    const historyTabs = new Tabs({
      tabsList: '#history-tabs',
      tabsContent: '#history-panels',
      defaultValue: 'section1',
      enableHistory: true
    });

    // 初期化完了メッセージ
    logBasic('Tabs library initialized');
  </script>
</body>
</html>
