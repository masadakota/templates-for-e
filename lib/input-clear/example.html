<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InputClear - ãƒ‡ãƒ¢</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      line-height: 1.6;
      background-color: #f5f5f5;
    }

    h1 {
      color: #333;
      border-bottom: 3px solid #007bff;
      padding-bottom: 0.5rem;
    }

    h2 {
      color: #555;
      margin-top: 2rem;
      border-left: 4px solid #007bff;
      padding-left: 0.75rem;
    }

    .demo-section {
      background: white;
      padding: 1.5rem;
      margin: 1rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .demo-item {
      margin: 1.5rem 0;
    }

    .demo-item label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #333;
    }

    .demo-item input {
      font-size: 16px;
      padding: 0.75rem;
      border: 2px solid #ddd;
      border-radius: 4px;
      transition: border-color 0.2s;
    }

    .demo-item input:focus {
      outline: none;
      border-color: #007bff;
    }

    .code-block {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
    }

    .code-block code {
      font-family: 'Courier New', monospace;
      font-size: 14px;
      color: #d63384;
    }

    .alert {
      position: relative;
      padding: 1rem;
      border-radius: 4px;
      margin: 1rem 0;
      border: 1px solid;
      border-left-width: 4px;
    }

    .alert-default {
      background: #e7f3ff;
      border-color: #007bff;
      border-left-color: #007bff;
      color: #084298;
    }

    .event-log {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      padding: 1rem;
      margin: 1rem 0;
      max-height: 200px;
      overflow-y: auto;
      font-family: monospace;
      font-size: 12px;
    }

    .event-log div {
      padding: 0.25rem 0;
      border-bottom: 1px solid #eee;
    }

    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      margin: 0.25rem;
      font-size: 14px;
    }

    button:hover {
      /* background: #0056b3; */
    }

    button.secondary {
      background: #6c757d;
    }

    button.secondary:hover {
      background: #545b62;
    }
  </style>
</head>
<body>
  <h1>InputClear Library - ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸</h1>

  <div class="alert alert-default">
    <strong>InputClear</strong> ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è‡ªå‹•çš„ã«ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚<br>
    æŒ‡å®šã—ãŸclassåã¾ãŸã¯dataå±æ€§ã‚’æŒã¤inputè¦ç´ ã«å¯¾ã—ã¦ã€å€¤ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
  </div>

  <!-- åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹ -->
  <div class="demo-section">
    <h2>1. åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹ (data-clearable)</h2>

    <div class="demo-item">
      <label for="input1">ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰</label>
      <input type="text" id="input1" data-clearable placeholder="ä½•ã‹å…¥åŠ›ã—ã¦ãã ã•ã„">
    </div>

    <div class="code-block">
      <code>
&lt;input type="text" data-clearable placeholder="ä½•ã‹å…¥åŠ›ã—ã¦ãã ã•ã„"&gt;<br>
&lt;script src="index.js"&gt;&lt;/script&gt;<br>
&lt;script&gt;<br>
&nbsp;&nbsp;new InputClear();<br>
&lt;/script&gt;
      </code>
    </div>
  </div>

  <!-- ã‚«ã‚¹ã‚¿ãƒ ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
  <div class="demo-section">
    <h2>2. ã‚«ã‚¹ã‚¿ãƒ ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ (.clearable)</h2>

    <div class="demo-item">
      <label for="input2">ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ä½¿ç”¨</label>
      <input type="text" id="input2" class="clearable" placeholder="clearableã‚¯ãƒ©ã‚¹ã§æŒ‡å®š">
    </div>

    <div class="code-block">
      <code>
&lt;input type="text" class="clearable"&gt;<br>
&lt;script&gt;<br>
&nbsp;&nbsp;new InputClear({ selector: '.clearable' });<br>
&lt;/script&gt;
      </code>
    </div>
  </div>

  <!-- ã‚«ã‚¹ã‚¿ãƒ ãƒœã‚¿ãƒ³HTML -->
  <div class="demo-section">
    <h2>3. ã‚«ã‚¹ã‚¿ãƒ ãƒœã‚¿ãƒ³HTML</h2>

    <div class="demo-item">
      <label for="input3">ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³ (ğŸ—‘ï¸)</label>
      <input type="text" id="input3" class="custom-icon" placeholder="ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³">
    </div>

    <div class="demo-item">
      <label for="input4">HTMLãƒœã‚¿ãƒ³</label>
      <input type="text" id="input4" class="custom-html" placeholder="HTMLãƒœã‚¿ãƒ³">
    </div>

    <div class="code-block">
      <code>
new InputClear({<br>
&nbsp;&nbsp;selector: '.custom-icon',<br>
&nbsp;&nbsp;buttonHTML: 'ğŸ—‘ï¸'<br>
});<br><br>
new InputClear({<br>
&nbsp;&nbsp;selector: '.custom-html',<br>
&nbsp;&nbsp;buttonHTML: '&lt;span style="color:red"&gt;âœ•&lt;/span&gt;'<br>
});
      </code>
    </div>
  </div>

  <!-- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®ã¿è¡¨ç¤º -->
  <div class="demo-section">
    <h2>4. ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®ã¿è¡¨ç¤º</h2>

    <div class="demo-item">
      <label for="input5">ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸­ã®ã¿ãƒœã‚¿ãƒ³è¡¨ç¤º</label>
      <input type="text" id="input5" class="focus-only" placeholder="ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ãã ã•ã„">
    </div>

    <div class="code-block">
      <code>
new InputClear({<br>
&nbsp;&nbsp;selector: '.focus-only',<br>
&nbsp;&nbsp;showOnFocus: true<br>
});
      </code>
    </div>
  </div>

  <!-- ãƒœã‚¿ãƒ³ä½ç½®ï¼ˆå·¦å´ï¼‰ -->
  <div class="demo-section">
    <h2>5. ãƒœã‚¿ãƒ³ä½ç½®ã‚’å·¦å´ã«é…ç½®</h2>

    <div class="demo-item">
      <label for="input6">å·¦å´ã«ãƒœã‚¿ãƒ³é…ç½®</label>
      <input type="text" id="input6" class="left-position" placeholder="å·¦å´ã«ãƒœã‚¿ãƒ³">
    </div>

    <div class="code-block">
      <code>
new InputClear({<br>
&nbsp;&nbsp;selector: '.left-position',<br>
&nbsp;&nbsp;position: 'left'<br>
});
      </code>
    </div>
  </div>

  <!-- ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ -->
  <div class="demo-section">
    <h2>6. ã‚¤ãƒ™ãƒ³ãƒˆã¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯</h2>

    <div class="demo-item">
      <label for="input7">ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ä»˜ã</label>
      <input type="text" id="input7" class="with-callback" placeholder="å…¥åŠ›ã—ã¦ã‚¯ãƒªã‚¢ã—ã¦ãã ã•ã„">
    </div>

    <div class="event-log" id="eventLog">
      <div><em>ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ï¼ˆæœ€æ–°10ä»¶ï¼‰</em></div>
    </div>

    <button onclick="document.getElementById('eventLog').innerHTML = '<div><em>ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ï¼ˆæœ€æ–°10ä»¶ï¼‰</em></div>'">
      ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢
    </button>

    <div class="code-block">
      <code>
new InputClear({<br>
&nbsp;&nbsp;selector: '.with-callback',<br>
&nbsp;&nbsp;onClear: (input, oldValue) => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;console.log('Cleared:', oldValue);<br>
&nbsp;&nbsp;}<br>
});<br><br>
// ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒªãƒƒã‚¹ãƒ³<br>
input.addEventListener('inputclear', (e) => {<br>
&nbsp;&nbsp;console.log('Custom event:', e.detail.oldValue);<br>
});
      </code>
    </div>
  </div>

  <!-- è¤‡æ•°ã®inputã‚¿ã‚¤ãƒ— -->
  <div class="demo-section">
    <h2>7. æ§˜ã€…ãªinputã‚¿ã‚¤ãƒ—</h2>

    <div class="demo-item">
      <label for="input-text">type="text"</label>
      <input type="text" id="input-text" class="multi-type" placeholder="ãƒ†ã‚­ã‚¹ãƒˆ">
    </div>

    <div class="demo-item">
      <label for="input-search">type="search"</label>
      <input type="search" id="input-search" class="multi-type" placeholder="æ¤œç´¢">
    </div>

    <div class="demo-item">
      <label for="input-email">type="email"</label>
      <input type="email" id="input-email" class="multi-type" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹">
    </div>

    <div class="demo-item">
      <label for="input-tel">type="tel"</label>
      <input type="tel" id="input-tel" class="multi-type" placeholder="é›»è©±ç•ªå·">
    </div>

    <div class="demo-item">
      <label for="input-url">type="url"</label>
      <input type="url" id="input-url" class="multi-type" placeholder="URL">
    </div>

    <div class="demo-item">
      <label for="input-password">type="password"</label>
      <input type="password" id="input-password" class="multi-type" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
    </div>
  </div>

  <!-- å‹•çš„è¿½åŠ  -->
  <div class="demo-section">
    <h2>8. å‹•çš„ã«è¿½åŠ ã•ã‚ŒãŸinputè¦ç´ </h2>

    <div id="dynamicContainer"></div>

    <button onclick="addDynamicInput()">inputè¦ç´ ã‚’è¿½åŠ </button>
    <button class="secondary" onclick="removeDynamicInputs()">ã™ã¹ã¦å‰Šé™¤</button>

    <div class="code-block">
      <code>
const clearInstance = new InputClear({ selector: '.dynamic' });<br><br>
// å¾Œã‹ã‚‰è¿½åŠ ã•ã‚ŒãŸinputã«ã‚‚é©ç”¨<br>
const newInput = document.createElement('input');<br>
newInput.className = 'dynamic';<br>
document.body.appendChild(newInput);<br>
clearInstance.add(newInput);
      </code>
    </div>
  </div>

  <!-- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã— -->
  <div class="demo-section">
    <h2>9. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—</h2>

    <div class="demo-item">
      <label for="input8">å³åº§ã«è¡¨ç¤º/éè¡¨ç¤º</label>
      <input type="text" id="input8" class="no-animation" placeholder="ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—">
    </div>

    <div class="code-block">
      <code>
new InputClear({<br>
&nbsp;&nbsp;selector: '.no-animation',<br>
&nbsp;&nbsp;animation: false<br>
});
      </code>
    </div>
  </div>

  <!-- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿ -->
  <script src="index.js"></script>

  <script>
    // 1. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
    new InputClear();

    // 2. ã‚«ã‚¹ã‚¿ãƒ ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
    new InputClear({ selector: '.clearable' });

    // 3. ã‚«ã‚¹ã‚¿ãƒ ãƒœã‚¿ãƒ³HTML
    new InputClear({
      selector: '.custom-icon',
      buttonHTML: 'ğŸ—‘ï¸'
    });

    new InputClear({
      selector: '.custom-html',
      buttonHTML: '<span style="color:red; font-weight:bold;">âœ•</span>'
    });

    // 4. ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®ã¿è¡¨ç¤º
    new InputClear({
      selector: '.focus-only',
      showOnFocus: true
    });

    // 5. å·¦å´é…ç½®
    new InputClear({
      selector: '.left-position',
      position: 'left'
    });

    // 6. ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
    new InputClear({
      selector: '.with-callback',
      onClear: (input, oldValue) => {
        logEvent(`onClear: "${oldValue}" â†’ ""`);
      }
    });

    // ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼
    document.getElementById('input7').addEventListener('inputclear', (e) => {
      logEvent(`Custom event: oldValue="${e.detail.oldValue}"`);
    });

    // 7. è¤‡æ•°ã®inputã‚¿ã‚¤ãƒ—
    new InputClear({ selector: '.multi-type' });

    // 8. å‹•çš„è¿½åŠ ç”¨ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
    const dynamicClearInstance = new InputClear({ selector: '.dynamic' });

    // 9. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—
    new InputClear({
      selector: '.no-animation',
      animation: false
    });

    // ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°é–¢æ•°
    let eventCount = 0;
    function logEvent(message) {
      eventCount++;
      const logDiv = document.getElementById('eventLog');
      const entry = document.createElement('div');
      entry.textContent = `[${eventCount}] ${new Date().toLocaleTimeString()} - ${message}`;
      logDiv.insertBefore(entry, logDiv.children[1]);

      // æœ€æ–°10ä»¶ã®ã¿ä¿æŒ
      while (logDiv.children.length > 11) {
        logDiv.removeChild(logDiv.lastChild);
      }
    }

    // å‹•çš„inputè¿½åŠ é–¢æ•°
    let dynamicCount = 0;
    function addDynamicInput() {
      dynamicCount++;
      const container = document.getElementById('dynamicContainer');

      const item = document.createElement('div');
      item.className = 'demo-item';
      item.innerHTML = `
        <label>å‹•çš„ã«è¿½åŠ ã•ã‚ŒãŸ input ${dynamicCount}</label>
        <input type="text" class="dynamic" placeholder="Input ${dynamicCount}">
      `;

      container.appendChild(item);

      // æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸinputã«ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã‚’é©ç”¨
      const newInput = item.querySelector('input');
      dynamicClearInstance.add(newInput);
    }

    // å‹•çš„inputå‰Šé™¤é–¢æ•°
    function removeDynamicInputs() {
      const container = document.getElementById('dynamicContainer');
      container.innerHTML = '';
      dynamicCount = 0;
    }
  </script>
</body>
</html>
